# Базовое описание порядка обработки сообщений

## Алгоритм обработки
1. Получить сигнатуру сообщения как session_id + message_id (для секретного сообщения) либо как session_id + md5hash
2. Проверить что сообщения с данной сигнатурой за последнее время не обрабатывались.
3. Проверить есть ли подписчики для данного session_id
4. Если сообщение публичное - верифицировать его (и всю цепочку)
5. Сохранить сообщение в кэш или бд
6. Переслать подписчикам
